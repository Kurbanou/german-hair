<?php
/**
 * Displays slider posts
 */
$posts = get_posts([
    'numberposts' => -1,
    'post_type'   => 'post', 
    'orderby'     => 'date',
    'order'       => 'DESC',
]);
if (empty($posts)) return;

wp_enqueue_style('portfolio-style', get_template_directory_uri() . '/assets/css/unminified/slider-posts.css', [], '1.0');
wp_enqueue_script('portfolio-slider', get_template_directory_uri() . '/assets/js/unminified/slider-posts.js', [''], '1.0', true);

?>


  <div class="slider-post">

  
    <?php foreach ($posts as $post): setup_postdata($post); ?>
      <?php
        $title       = get_the_title($post);
        $image_id    = get_field('preview_image', $post);
        $image_src   = $image_id ? wp_get_attachment_url($image_id) : '';
        $description = get_field('preview_description', $post);
        $link        = get_permalink($post);
      ?>        
        <a href="<?php echo esc_url($link); ?>">
          <div class="post-card">
             <?php if (!$image_src): ?>
              <div class="post-card_img" style="background-color: rgba(242, 242, 242, 1);"></div>
              <?php else: ?>
              <div class="post-card_img" style="background-image: url('<?php echo esc_url($image_src); ?>');"></div>
              <?php endif; ?>
              
              <div class="post-title">
                   <div class="post-card_head">
                      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M10.3459 15.6693C10.4107 14.2405 10.7454 12.8874 11.3176 11.5918C12.3829 9.18776 13.952 7.15801 15.9098 5.41617C16.0285 5.31181 16.1545 5.21824 16.2804 5.12467C16.3344 5.08508 16.3956 5.05629 16.4568 5.0311C16.5827 4.97712 16.7015 4.98791 16.7879 5.10667C16.8742 5.22184 16.8527 5.337 16.7699 5.44856C16.464 5.86963 16.1509 6.28709 15.8558 6.71895C14.7941 8.27006 13.8836 9.90033 13.2538 11.6782C12.8327 12.8622 12.5628 14.0786 12.5304 15.3418C12.5232 15.5541 12.5772 15.7233 12.7176 15.878C12.9587 16.1479 13.0703 16.4718 13.0703 16.8317C13.0703 17.3967 12.7428 17.7854 12.1814 17.8826C11.3536 18.0265 10.7526 17.645 10.5259 16.7885C10.4287 16.425 10.4035 16.04 10.3459 15.6657V15.6693ZM14.8949 7.2048C14.8949 7.2048 14.8769 7.1904 14.8661 7.18321C14.8193 7.23359 14.7761 7.28037 14.7293 7.33076C14.0923 8.05053 13.5021 8.80628 12.9839 9.61602C11.8827 11.3363 11.0765 13.1681 10.9362 15.241C10.9002 15.7916 10.8822 16.3423 11.1161 16.8605C11.332 17.3463 11.7027 17.4975 12.2029 17.3283C12.4297 17.2528 12.5268 17.1196 12.5412 16.8821C12.5556 16.6158 12.4693 16.3854 12.2929 16.1911C12.077 15.9536 11.9942 15.6801 12.0014 15.3598C12.0266 14.4061 12.1742 13.474 12.4261 12.5563C12.8903 10.8576 13.6461 9.28493 14.5458 7.77701C14.661 7.58628 14.7797 7.39914 14.8949 7.2084V7.2048Z" fill="#215C81" fill-opacity="0.6"/>
                      <path d="M15.3699 14.7012C16.9498 14.7516 18.4757 14.8595 19.9728 15.2014C20.034 15.2158 20.0952 15.2266 20.1528 15.2482C20.2931 15.2986 20.3723 15.4353 20.3363 15.5649C20.3003 15.7053 20.16 15.788 20.0088 15.7556C19.6022 15.6765 19.1991 15.5793 18.7888 15.5145C17.3493 15.2878 15.899 15.2122 14.445 15.2302C14.0599 15.2338 13.8728 15.5145 13.9916 15.8852C14.1931 16.5186 14.2255 17.152 13.9448 17.7746C13.6101 18.5088 12.9983 18.8398 12.2317 18.9658C10.8498 19.1925 9.70895 18.2748 9.41744 16.8065C9.35266 16.4826 9.33467 16.1515 9.31308 15.8204C9.29508 15.5217 9.17272 15.3706 8.87762 15.3166C8.04628 15.1654 7.20775 15.1978 6.38002 15.3166C5.58827 15.4281 4.80373 15.6009 4.01918 15.7484C3.83924 15.7808 3.69888 15.7125 3.66289 15.5613C3.62691 15.4174 3.71688 15.2806 3.88242 15.2374C4.8937 14.9675 5.91937 14.8019 6.96303 14.73C7.63602 14.6832 8.309 14.6904 8.97838 14.7984C9.48582 14.8811 9.83851 15.2662 9.84211 15.7772C9.8493 16.2631 9.89969 16.7417 10.0832 17.1952C10.3567 17.8574 10.8066 18.336 11.5444 18.4476C12.0374 18.5232 12.5232 18.4476 12.9479 18.1633C13.5057 17.7962 13.6641 17.2384 13.6065 16.6086C13.5885 16.4106 13.5345 16.2127 13.4769 16.0184C13.2754 15.3418 13.7001 14.73 14.4054 14.7048C14.7401 14.694 15.0784 14.7048 15.3699 14.7048V14.7012Z" fill="#215C81" fill-opacity="0.6"/>
                      <path d="M8.03477 10.1955C7.90881 10.1847 7.81884 10.1055 7.78645 9.96156C7.74326 9.77082 7.70008 9.58008 7.65689 9.38935C7.52373 8.81353 7.12786 8.50043 6.58444 8.34928C6.53045 8.33489 6.47647 8.32409 6.41889 8.31329C6.26774 8.2845 6.17057 8.20173 6.17417 8.04338C6.17417 7.89223 6.27134 7.81305 6.41169 7.78066C6.52686 7.75547 6.63842 7.72308 6.74998 7.68709C7.21423 7.52875 7.52014 7.22284 7.6461 6.7442C7.69288 6.56066 7.73607 6.37352 7.77565 6.18998C7.81884 5.99204 7.89801 5.90207 8.04557 5.90207C8.19312 5.90207 8.27949 5.99204 8.31908 6.18638C8.35867 6.36272 8.40185 6.53547 8.44144 6.70821C8.5782 7.29122 8.97767 7.60432 9.53189 7.75187C9.59307 7.76627 9.65425 7.77707 9.71183 7.79146C9.83779 7.82385 9.92056 7.90662 9.92416 8.03978C9.93136 8.17294 9.85938 8.26291 9.73342 8.3061C9.60746 8.34928 9.47431 8.38167 9.34835 8.41766C8.94168 8.53282 8.65737 8.78834 8.51701 9.18421C8.43064 9.43253 8.37306 9.68805 8.31188 9.94357C8.27589 10.0983 8.18952 10.1991 8.02757 10.1991L8.03477 10.1955ZM8.05276 8.92869C8.22911 8.51843 8.47383 8.23772 8.85171 8.04338C8.47743 7.84184 8.21831 7.57193 8.04917 7.17606C7.87642 7.58273 7.61371 7.84544 7.24302 8.04698C7.61371 8.25211 7.88002 8.51483 8.05276 8.92869Z" fill="#215C81" fill-opacity="0.6"/>
                      <path d="M16.6285 13.8164C16.4837 13.8164 16.4065 13.7327 16.3712 13.5964C16.3197 13.3918 16.265 13.1842 16.1943 12.9858C16.1074 12.741 15.9177 12.5891 15.6636 12.5117C15.5574 12.4776 15.4513 12.4528 15.3484 12.4187C15.239 12.3815 15.1683 12.3102 15.1715 12.1924C15.1715 12.0778 15.2455 12.0065 15.358 11.9724C15.3613 11.9724 15.3677 11.9724 15.3741 11.9724C15.9691 11.8763 16.2586 11.5075 16.3422 10.959C16.3519 10.897 16.3615 10.835 16.3776 10.773C16.4065 10.6491 16.4869 10.5747 16.622 10.5809C16.7539 10.5871 16.8214 10.6677 16.8504 10.7916C16.8986 10.9931 16.9501 11.1945 17.0176 11.3898C17.1045 11.6408 17.2942 11.7989 17.5515 11.8825C17.6609 11.9166 17.7734 11.9445 17.8796 11.9817C17.9889 12.0189 18.0565 12.0964 18.05 12.211C18.0436 12.3257 17.9728 12.3939 17.8571 12.4249C17.7927 12.4404 17.7284 12.4497 17.6673 12.4683C17.1816 12.6046 16.9758 12.961 16.8793 13.4042C16.8632 13.4755 16.86 13.5468 16.8472 13.618C16.8246 13.7451 16.7442 13.8102 16.6317 13.8195L16.6285 13.8164ZM16.1428 12.1924C16.294 12.3536 16.458 12.5303 16.6124 12.6945C16.7635 12.5334 16.9276 12.3598 17.0787 12.2017C16.9243 12.0406 16.7603 11.867 16.6124 11.709C16.4612 11.8639 16.2972 12.0344 16.1428 12.1924Z" fill="#215C81" fill-opacity="0.6"/>
                      </svg>
                      процедура
                  </div>
                  <?php echo esc_html($title); ?>
              </div>
              <div class="post-desc">
                  <div class="post-card_head">
                      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M10.3459 15.6693C10.4107 14.2405 10.7454 12.8874 11.3176 11.5918C12.3829 9.18776 13.952 7.15801 15.9098 5.41617C16.0285 5.31181 16.1545 5.21824 16.2804 5.12467C16.3344 5.08508 16.3956 5.05629 16.4568 5.0311C16.5827 4.97712 16.7015 4.98791 16.7879 5.10667C16.8742 5.22184 16.8527 5.337 16.7699 5.44856C16.464 5.86963 16.1509 6.28709 15.8558 6.71895C14.7941 8.27006 13.8836 9.90033 13.2538 11.6782C12.8327 12.8622 12.5628 14.0786 12.5304 15.3418C12.5232 15.5541 12.5772 15.7233 12.7176 15.878C12.9587 16.1479 13.0703 16.4718 13.0703 16.8317C13.0703 17.3967 12.7428 17.7854 12.1814 17.8826C11.3536 18.0265 10.7526 17.645 10.5259 16.7885C10.4287 16.425 10.4035 16.04 10.3459 15.6657V15.6693ZM14.8949 7.2048C14.8949 7.2048 14.8769 7.1904 14.8661 7.18321C14.8193 7.23359 14.7761 7.28037 14.7293 7.33076C14.0923 8.05053 13.5021 8.80628 12.9839 9.61602C11.8827 11.3363 11.0765 13.1681 10.9362 15.241C10.9002 15.7916 10.8822 16.3423 11.1161 16.8605C11.332 17.3463 11.7027 17.4975 12.2029 17.3283C12.4297 17.2528 12.5268 17.1196 12.5412 16.8821C12.5556 16.6158 12.4693 16.3854 12.2929 16.1911C12.077 15.9536 11.9942 15.6801 12.0014 15.3598C12.0266 14.4061 12.1742 13.474 12.4261 12.5563C12.8903 10.8576 13.6461 9.28493 14.5458 7.77701C14.661 7.58628 14.7797 7.39914 14.8949 7.2084V7.2048Z" fill="#215C81" fill-opacity="0.6"/>
                      <path d="M15.3699 14.7012C16.9498 14.7516 18.4757 14.8595 19.9728 15.2014C20.034 15.2158 20.0952 15.2266 20.1528 15.2482C20.2931 15.2986 20.3723 15.4353 20.3363 15.5649C20.3003 15.7053 20.16 15.788 20.0088 15.7556C19.6022 15.6765 19.1991 15.5793 18.7888 15.5145C17.3493 15.2878 15.899 15.2122 14.445 15.2302C14.0599 15.2338 13.8728 15.5145 13.9916 15.8852C14.1931 16.5186 14.2255 17.152 13.9448 17.7746C13.6101 18.5088 12.9983 18.8398 12.2317 18.9658C10.8498 19.1925 9.70895 18.2748 9.41744 16.8065C9.35266 16.4826 9.33467 16.1515 9.31308 15.8204C9.29508 15.5217 9.17272 15.3706 8.87762 15.3166C8.04628 15.1654 7.20775 15.1978 6.38002 15.3166C5.58827 15.4281 4.80373 15.6009 4.01918 15.7484C3.83924 15.7808 3.69888 15.7125 3.66289 15.5613C3.62691 15.4174 3.71688 15.2806 3.88242 15.2374C4.8937 14.9675 5.91937 14.8019 6.96303 14.73C7.63602 14.6832 8.309 14.6904 8.97838 14.7984C9.48582 14.8811 9.83851 15.2662 9.84211 15.7772C9.8493 16.2631 9.89969 16.7417 10.0832 17.1952C10.3567 17.8574 10.8066 18.336 11.5444 18.4476C12.0374 18.5232 12.5232 18.4476 12.9479 18.1633C13.5057 17.7962 13.6641 17.2384 13.6065 16.6086C13.5885 16.4106 13.5345 16.2127 13.4769 16.0184C13.2754 15.3418 13.7001 14.73 14.4054 14.7048C14.7401 14.694 15.0784 14.7048 15.3699 14.7048V14.7012Z" fill="#215C81" fill-opacity="0.6"/>
                      <path d="M8.03477 10.1955C7.90881 10.1847 7.81884 10.1055 7.78645 9.96156C7.74326 9.77082 7.70008 9.58008 7.65689 9.38935C7.52373 8.81353 7.12786 8.50043 6.58444 8.34928C6.53045 8.33489 6.47647 8.32409 6.41889 8.31329C6.26774 8.2845 6.17057 8.20173 6.17417 8.04338C6.17417 7.89223 6.27134 7.81305 6.41169 7.78066C6.52686 7.75547 6.63842 7.72308 6.74998 7.68709C7.21423 7.52875 7.52014 7.22284 7.6461 6.7442C7.69288 6.56066 7.73607 6.37352 7.77565 6.18998C7.81884 5.99204 7.89801 5.90207 8.04557 5.90207C8.19312 5.90207 8.27949 5.99204 8.31908 6.18638C8.35867 6.36272 8.40185 6.53547 8.44144 6.70821C8.5782 7.29122 8.97767 7.60432 9.53189 7.75187C9.59307 7.76627 9.65425 7.77707 9.71183 7.79146C9.83779 7.82385 9.92056 7.90662 9.92416 8.03978C9.93136 8.17294 9.85938 8.26291 9.73342 8.3061C9.60746 8.34928 9.47431 8.38167 9.34835 8.41766C8.94168 8.53282 8.65737 8.78834 8.51701 9.18421C8.43064 9.43253 8.37306 9.68805 8.31188 9.94357C8.27589 10.0983 8.18952 10.1991 8.02757 10.1991L8.03477 10.1955ZM8.05276 8.92869C8.22911 8.51843 8.47383 8.23772 8.85171 8.04338C8.47743 7.84184 8.21831 7.57193 8.04917 7.17606C7.87642 7.58273 7.61371 7.84544 7.24302 8.04698C7.61371 8.25211 7.88002 8.51483 8.05276 8.92869Z" fill="#215C81" fill-opacity="0.6"/>
                      <path d="M16.6285 13.8164C16.4837 13.8164 16.4065 13.7327 16.3712 13.5964C16.3197 13.3918 16.265 13.1842 16.1943 12.9858C16.1074 12.741 15.9177 12.5891 15.6636 12.5117C15.5574 12.4776 15.4513 12.4528 15.3484 12.4187C15.239 12.3815 15.1683 12.3102 15.1715 12.1924C15.1715 12.0778 15.2455 12.0065 15.358 11.9724C15.3613 11.9724 15.3677 11.9724 15.3741 11.9724C15.9691 11.8763 16.2586 11.5075 16.3422 10.959C16.3519 10.897 16.3615 10.835 16.3776 10.773C16.4065 10.6491 16.4869 10.5747 16.622 10.5809C16.7539 10.5871 16.8214 10.6677 16.8504 10.7916C16.8986 10.9931 16.9501 11.1945 17.0176 11.3898C17.1045 11.6408 17.2942 11.7989 17.5515 11.8825C17.6609 11.9166 17.7734 11.9445 17.8796 11.9817C17.9889 12.0189 18.0565 12.0964 18.05 12.211C18.0436 12.3257 17.9728 12.3939 17.8571 12.4249C17.7927 12.4404 17.7284 12.4497 17.6673 12.4683C17.1816 12.6046 16.9758 12.961 16.8793 13.4042C16.8632 13.4755 16.86 13.5468 16.8472 13.618C16.8246 13.7451 16.7442 13.8102 16.6317 13.8195L16.6285 13.8164ZM16.1428 12.1924C16.294 12.3536 16.458 12.5303 16.6124 12.6945C16.7635 12.5334 16.9276 12.3598 17.0787 12.2017C16.9243 12.0406 16.7603 11.867 16.6124 11.709C16.4612 11.8639 16.2972 12.0344 16.1428 12.1924Z" fill="#215C81" fill-opacity="0.6"/>
                      </svg>
                      Описание
                  </div>
                  <div class="text-line-clamp-2">
                    <?php echo esc_html($description); ?>
                  </div>
                  
              </div>
          </div>  
        </a>
     
    <?php endforeach; wp_reset_postdata(); ?>
  
</div>



